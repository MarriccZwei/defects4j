diff --git a/framework/core/Project/Chart.pm b/framework/core/Project/Chart.pm
index 248048ed..3cb4a638 100644
--- a/framework/core/Project/Chart.pm
+++ b/framework/core/Project/Chart.pm
@@ -38,7 +38,7 @@ use strict;
 use warnings;
 
 use Constants;
-use Vcs::Svn;
+use Vcs::Git;
 
 our @ISA = qw(Project);
 my $PID = "Chart";
@@ -48,8 +48,8 @@ sub new {
     my ($class) = @_;
 
     my $name = "jfreechart";
-    my $vcs = Vcs::Svn->new($PID,
-                            "file://$REPO_DIR/$name/trunk",
+    my $vcs = Vcs::Git->new($PID,
+                            "$REPO_DIR/$name.git",
                             "$PROJECTS_DIR/$PID/$BUGS_CSV_ACTIVE",
                             \&_post_checkout);
 
@@ -70,6 +70,7 @@ sub _post_checkout {
     # Fix compilation errors if necessary
     @_ == 3 or die $ARG_ERROR;
     my ($self, $revision_id, $work_dir) = @_;
+    my $vid = $self->{_vcs}->lookup_vid($rev_id);
 
     my $compile_errors = "$PROJECTS_DIR/$self->{pid}/compile-errors/";
     opendir(DIR, $compile_errors) or die "Could not find compile-errors directory.";
@@ -78,7 +79,7 @@ sub _post_checkout {
 
     foreach my $file (@entries) {
         if ($file =~ /-(\d+)-(\d+).diff/) {
-            if ($revision_id >= $1 && $revision_id <= $2) {
+            if ($vid >= $1 && $vid <= $2) {
                 $self->apply_patch($work_dir, "$compile_errors/$file")
                         or confess("Couldn't apply patch ($file): $!");
             }
